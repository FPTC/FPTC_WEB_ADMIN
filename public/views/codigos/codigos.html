
<div class="titulo" >
	<h1 ng-model="user" class="tituloPrincipal visible fadeIn">Códigos de canje</h1>
</div>


<section style="background-color:white;height:calc(100%); display: inherit; width: 100vw;" >

	<div ng-model="displayForm" id="cierpoInicio" style="display: {{displayForm}};">

		<div class="cuerpo" style="height: 100%;">
			
			<div class="seccionCuerpo" style="height: 100%;">

				<md-content  style=" background-color: white; overflow-x: hidden; height: 100%;">


					<div class="cuerpoAplicacion" style="display:inline-block; width:100% !important; margin-left:0px !important;">

						<h3 class="centered">Estos son los codigos validos para reclamar premios.</h3>					
						
						<div id="contenedorTabla" class="" style="width:80% !important; margin-left:10% !important;">


							<md-tabs md-dynamic-height md-border-bottom>
								<md-tab label="Códigos vigentes">
									<md-content class="md-padding">


										<md-toolbar class="md-hue-2" style=" margin-top: 10px; background-color: white !important">

											<div class="md-toolbar-tools">
												<i class="fa fa-search middleIcon iconoSearch" aria-hidden="true"></i> 
												<form name="filter.form" class="barraSearch">
													<input ng-model="query.filter" type="text" class="inputSearch" placeholder="Buscar en esta tabla..."  >
												</form>

											</div>
										</md-toolbar>

										<md-table-container style="" >   

											<table md-table  ng-model="selected" md-progress="promise">
												<thead md-head md-order="query.order" md-on-reorder="reordenar">
													<tr md-row>
														<th md-column md-order-by="id"><span>Código</span></th>
														<th md-column class="centered" md-order-by="date" ><span>Fecha de generación</span></th>

													</tr>
												</thead>
												<tbody md-body style="height: 500px !important;max-height: 500px !important;">
													<tr md-row md-select="false" md-select-id="name" class="animate"   ng-repeat="codigo in codigosSinUsar | orderBy: query.order  | limitTo: query.limit : (query.page -1) * query.limit | filter: query.filter ">

														<td md-cell style="">{{codigo.id}}</td>
														<td md-cell class="centered"> {{fechaNumerica(codigo.date)}} </td>


													</tr>
												</tbody>
											</table>

										</md-table-container>

										<md-table-pagination ng-model="codigosSinUsar" md-limit="query.limit" md-limit-options="[10, 50, 100]" md-page="query.page"  md-total="{{codigosSinUsar.length}}" md-label="{page: 'Página:', rowsPerPage: 'Filas por página:', of: 'de'}" md-on-paginate="logPagination" md-page-select>					
										</md-table-pagination>

									</md-content>

								</md-tab>

								<md-tab label="Códigos usados">
									<md-content class="md-padding">

										<md-toolbar class="md-hue-2" style=" margin-top: 10px; background-color: white !important">
											<div class="md-toolbar-tools">
												<i class="fa fa-search middleIcon iconoSearch" aria-hidden="true"></i> 
												<form name="filter.form" class="barraSearch">
													<input ng-model="query.filter" type="text" class="inputSearch" placeholder="Buscar en esta tabla..."  >
												</form>
											</div>
										</md-toolbar>

										<md-table-container style="">   

											<table md-table  ng-model="selected" md-progress="promise">
												<thead md-head md-order="query.order" md-on-reorder="reordenar">
													<tr md-row>
														<th md-column md-order-by="id"><span>Código</span></th>
														<th md-column class="centered" md-order-by="date" ><span>Fecha de generación</span></th>
														<th md-column class="centered" ><span>Fecha de uso</span></th>
														<th md-column class="centered" ><span>UID</span></th>
														<th md-column class="centered" ><span>Usado por</span></th>
														<th md-column class="centered" ><span>Email</span></th>
													</tr>
												</thead>
												<tbody md-body style="height: 500px !important;max-height: 500px !important;">
													<tr md-row md-select="false" md-select-id="name" class="animate"   ng-repeat="codigo in codigosUsados | orderBy: query.order  | limitTo: query.limit : (query.page -1) * query.limit | filter: query.filter ">

														<td md-cell style="">{{codigo.id}}</td>

														<td md-cell class="centered"> {{fechaNumerica(codigo.date)}} </td>
														<td md-cell class="centered"> {{fechaNumerica(codigo.usedAt)}} </td>
														<td md-cell class="centered"> {{codigo.uid}} </td>
														<td md-cell class="centered"> {{codigo.nameUsedBy}} </td>
														<td md-cell class="centered"> {{codigo.email}} </td>
													</tr>
												</tbody>
											</table>

										</md-table-container>

										<md-table-pagination ng-model="codigosUsados" md-limit="query.limit" md-limit-options="[10, 50, 100]" md-page="query.page"  md-total="{{codigosUsados.length}}" md-label="{page: 'Página:', rowsPerPage: 'Filas por página:', of: 'de'}" md-on-paginate="logPagination" md-page-select>					
										</md-table-pagination>

										
									</md-content>
								</md-tab>
							</md-tabs>

						</div>

					</div>

				</md-content>

			</div>

		</div> 

	</div> 

	<button ng-if="perfil == 0" class="md-fab md-button md-ink-ripple btnAdicionarUsuario" type="button"  ng-click="crearCodigos($event)">
		<i style="font-size:24px;" class="fa fa-plus  ng-scope" aria-hidden="true"></i>
		<div class="md-ripple-container"></div>
	</button>


</section>

<div class="foot" style="height: 45px; width: 100%; background-color: #ff6390; color: white;">
	<p style="text-align: center;">Todos los derechos reservados | Ámate | 2017</p>
</div>

